(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,e,n){},QfWi:function(t,e,n){"use strict";n.r(e);n("lYjL"),n("IlJM"),n("8cZI"),n("lmye"),n("D/wG"),n("JBxO"),n("FdtR"),n("QDHd");var o=n("czhI"),a=n.n(o);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var u=function(t){return a.a.post("/users/login",t).then((function(t){var e,n=t.data;return e=n.token,a.a.defaults.headers.common.Authorization=e,n}))},r=function(){return a.a.get("/contacts").then((function(t){return t.data}))},c=(n("L1EO"),{loader:document.querySelector(".loader"),login:document.querySelector(".login"),logout:document.querySelector(".logout"),content:document.querySelector(".content"),form:document.querySelector(".form"),userInfo:document.querySelector(".user-info"),name:document.querySelector(".name"),email:document.querySelector(".email"),list:document.querySelector(".list"),cart:document.querySelector(".cart"),count:document.querySelector(".count"),buy:document.querySelector(".buy")}),i=[],l=[],s=function(){return c.loader.classList.add("show")},d=function(){return c.loader.classList.remove("show")},m=function(){var t=i.map((function(t){var e=t.id;return"<li>\n          "+t.name+": "+t.number+' \n          <button class="remove" data-id='+e+' data-type="remove">-</button>\n          <button class="add" data-id='+e+' data-type="add">+</button>\n          <button class="delete" data-id='+e+' data-type="delete">x</button>\n        </li>'})).join("");c.list.innerHTML="",c.list.insertAdjacentHTML("beforeend",t),c.count.textContent=l.length};c.login.addEventListener("click",(function(){s(),u({email:"test.user@mail.com",password:"1234567"}).then((function(t){var e=t.user;c.name.textContent=e.name,c.email.textContent=e.email,c.login.classList.remove("show"),c.logout.classList.add("show"),c.content.classList.add("show")})).then(r).then((function(t){return i=t})).then(m).finally(d)})),c.logout.addEventListener("click",(function(){s(),a.a.post("/users/logout").then((function(){c.name.textContent="",c.email.textContent="",c.content.classList.remove("show"),c.logout.classList.remove("show"),c.login.classList.add("show")})).finally(d)})),c.form.addEventListener("submit",(function(t){var e,n=t.target.elements,o=n.name,u=n.number,r={name:o.value,number:u.value};t.preventDefault(),s(),(e=r,a.a.post("/contacts",e).then((function(t){return t.data}))).then((function(t){i.push(t)})).then(m).then((function(){o.value="",u.value=""})).finally(d)})),c.list.addEventListener("click",(function(t){var e=t.target.dataset,n=e.id,o=e.type;if(n&&"remove"===o){var u=l.find((function(t){return t.id===n}));l.pop(u),m()}else if(n&&"add"===o){var r=i.find((function(t){return t.id===n}));l.push(r),m()}else n&&"delete"===o&&(s(),function(t){return a.a.delete("/contacts/"+t)}(n).then((function(){i=i.filter((function(t){return t.id!==n}))})).then(m).finally(d))})),c.buy.addEventListener("click",(function(){console.log(l)}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.6f3eb7d9bd133c33279f.js.map